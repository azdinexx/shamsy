{% comment %}
  Hero Section - Two Customizable Floating Images Version
{% endcomment %}

<section class="hero-section" id="hero-{{ section.id }}">
  <div class="hero-section__container">
    <div class="hero-section__content">
      <div class="hero-section__text">
        {% if section.settings.hero_title != blank %}
          <h1 class="hero-section__title">{{ section.settings.hero_title | escape }}</h1>
        {% endif %}
        
        {% if section.settings.hero_description != blank %}
          <p class="hero-section__description">{{ section.settings.hero_description | escape }}</p>
        {% endif %}
        
        {% if section.settings.primary_button_text != blank or section.settings.secondary_button_text != blank %}
          <div class="hero-section__actions">
            {% if section.settings.primary_button_text != blank and section.settings.primary_button_url != blank %}
              <a href="{{ section.settings.primary_button_url }}" 
                 class="hero-section__btn hero-section__btn--primary"
                 {% if section.settings.primary_button_url contains 'http' %}target="_blank" rel="noopener"{% endif %}>
                {{ section.settings.primary_button_text | escape }}
              </a>
            {% endif %}
            
            {% if section.settings.secondary_button_text != blank and section.settings.secondary_button_url != blank %}
              <a href="{{ section.settings.secondary_button_url }}" 
                 class="hero-section__btn hero-section__btn--secondary"
                 {% if section.settings.secondary_button_url contains 'http' %}target="_blank" rel="noopener"{% endif %}>
                {{ section.settings.secondary_button_text | escape }}
              </a>
            {% endif %}
          </div>
        {% endif %}
      </div>
      
      <div class="hero-section__image-container">
        {% if section.settings.image_1 != blank %}
          <div class="floating-images">
            {% assign image_1_alt = section.settings.image_1_alt | default: section.settings.image_1.alt | default: 'First floating image' %}
            
            <img 
              src="{{ section.settings.image_1 | image_url: width: 800 }}" 
              alt="{{ image_1_alt | escape }}"
              class="floating-image image-1"
              loading="lazy"
              decoding="async"
              style="--rotation: {{ section.settings.image_1_rotation | default: -8 }}deg; 
                     --size: {{ section.settings.image_1_size | default: 250 }}px;
                     --animation-duration: {{ section.settings.image_1_animation_duration | default: 4 }}s;
                     --float-distance: {{ section.settings.image_1_float_distance | default: 10 }}px;
                     --top-offset: {{ section.settings.image_1_top_offset | default: 0 }}px;
                     --left-offset: {{ section.settings.image_1_left_offset | default: 0 }}px;"
              >

            {% if section.settings.image_2 != blank %}
              {% assign image_2_alt = section.settings.image_2_alt | default: section.settings.image_2.alt | default: 'Second floating image' %}
              
              <img 
                src="{{ section.settings.image_2 | image_url: width: 800 }}" 
                alt="{{ image_2_alt | escape }}"
                class="floating-image image-2"
                loading="lazy"
                decoding="async"
                style="--rotation: {{ section.settings.image_2_rotation | default: 45 }}deg; 
                       --size: {{ section.settings.image_2_size | default: 200 }}px;
                       --animation-duration: {{ section.settings.image_2_animation_duration | default: 3 }}s;
                       --float-distance: {{ section.settings.image_2_float_distance | default: 15 }}px;
                       --delay: {{ section.settings.image_2_animation_delay | default: 1.5 }}s;
                       --top-offset: {{ section.settings.image_2_top_offset | default: 20 }}px;
                       --left-offset: {{ section.settings.image_2_left_offset | default: 60 }}px;"
                >
            {% endif %}
          </div>
        {% endif %}
      </div>
    </div>
  </div>
</section>

<style>
  .hero-section {
    margin-top: 200px;
    @media screen and (max-width: 768px) {
      margin-top: 80px;
    }
    padding: clamp(2rem, 5vw, 4rem) 0;
    background-color: {{ section.settings.background_color | default: '#f9f9f9' }};
    position: relative;
  }

  .hero-section__container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 clamp(1rem, 3vw, 2rem);
  }

  .hero-section__content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: clamp(2rem, 5vw, 4rem);
    align-items: center;
    min-height: 400px;
  }

  .hero-section__text {
    display: flex;
    flex-direction: column;
    gap: 0;
  }

  .hero-section__title {
    font-size: clamp(1.5rem, 4vw, 2.5rem);
    font-weight: 700;
    color: {{ section.settings.title_color | default: '#333' }};
    margin: 0;
    line-height: 1.4;
    letter-spacing: -0.02em;
    margin-bottom: 2rem;
  }

  .hero-section__description {
    font-size: clamp(1rem, 2.5vw, 1.25rem);
    color: {{ section.settings.description_color | default: '#666' }};
    line-height: 1.6;
    margin: 0;
    font-family: 'Georgia', 'Times New Roman', serif;
  }

  .hero-section__actions {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    margin-top: 0.5rem;
  }

  .hero-section__btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.875rem 1.75rem;
    font-size: 1rem;
    font-weight: 500;
    text-decoration: none;
    border-radius: 6px;
    transition: all 0.3s ease;
    border: 2px solid transparent;
    min-width: 140px;
    text-align: center;
    cursor: pointer;
    font-family: 'Georgia', 'Times New Roman', serif;
  }

  .hero-section__btn--primary {
    background-color: {{ section.settings.primary_button_bg | default: '#2c3e50' }};
    color: {{ section.settings.primary_button_text_color | default: '#fff' }};
    border-color: {{ section.settings.primary_button_bg | default: '#2c3e50' }};
  }

  .hero-section__btn--primary:hover {
    background-color: {{ section.settings.primary_button_hover_bg | default: '#34495e' }};
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(44, 62, 80, 0.3);
  }

  .hero-section__btn--secondary {
    background-color: transparent;
    color: {{ section.settings.secondary_button_text_color | default: '#2c3e50' }};
    border-color: {{ section.settings.secondary_button_border | default: '#2c3e50' }};
  }

  .hero-section__btn--secondary:hover {
    background-color: {{ section.settings.secondary_button_hover_bg | default: '#2c3e50' }};
    color: {{ section.settings.secondary_button_hover_text | default: '#fff' }};
    transform: translateY(-1px);
  }

  /* Floating images container */
  .hero-section__image-container {
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .floating-images {
    position: relative;
    width: 350px;
    height: 350px;
    @media screen and (max-width: 768px) {
      width: 250px;
      height: 250px;
    }
  }

  .floating-image {
    position: absolute;
    transition: transform 0.3s ease;
    border-radius: {{ section.settings.image_border_radius | default: 8 }}px;
  }

  .image-1 {
    top: var(--top-offset, 0px);
    left: var(--left-offset, 0px);
    width: var(--size, 250px);
    height: var(--size, 250px);
    object-fit: cover;
    transform: rotate(var(--rotation, -8deg));
    animation: float1 var(--animation-duration, 4s) ease-in-out infinite;
  }

  .image-2 {
    top: var(--top-offset, 20px);
    left: var(--left-offset, 60px);
    width: var(--size, 200px);
    height: var(--size, 200px);
    object-fit: cover;
    transform: rotate(var(--rotation, 45deg));
    animation: float2 var(--animation-duration, 3s) ease-in-out infinite;
    animation-delay: var(--delay, 1.5s);
  }

  @keyframes float1 {
    0%, 100% {
      transform: translateY(0) rotate(var(--rotation, -8deg));
    }
    50% {
      transform: translateY(calc(-1 * var(--float-distance, 10px))) rotate(var(--rotation, -8deg));
    }
  }

  @keyframes float2 {
    0%, 100% {
      transform: translateY(0) rotate(var(--rotation, 45deg));
    }
    50% {
      transform: translateY(calc(-1 * var(--float-distance, 15px))) rotate(var(--rotation, 45deg));
    }
  }

  .floating-image:hover {
    transform: scale({{ section.settings.image_hover_scale | default: 1.05 }}) rotate(var(--rotation));
  }

  /* Mobile Styles */
  @media (max-width: 768px) {
    .hero-section__content {
      grid-template-columns: 1fr;
      text-align: center;
      gap: 2rem;
    }

    .hero-section__actions {
      justify-content: center;
    }

    .hero-section__btn {
      width: 100%;
      max-width: 280px;
    }

    .floating-image {
      width: calc(var(--size, 250px) * 0.7) !important;
      height: calc(var(--size, 250px) * 0.7) !important;
    }
  }

  @media (max-width: 480px) {
    .hero-section {
      padding: 1.5rem 0;
    }

    .hero-section__btn {
      padding: 0.75rem 1.5rem;
      font-size: 0.9rem;
      min-width: auto;
    }

    .hero-section__actions {
      flex-direction: column;
      align-items: center;
    }

    .floating-image {
      width: calc(var(--size, 250px) * 0.6) !important;
      height: calc(var(--size, 250px) * 0.6) !important;
    }
  }

  /* High contrast mode support */
  @media (prefers-contrast: high) {
    .hero-section__btn {
      border-width: 3px;
    }
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    .hero-section__btn,
    .floating-image {
      transition: none;
      animation: none;
    }
  }
</style>

{% schema %}
{
  "name": "Hero Section",
  "settings": [
    {
      "type": "header",
      "content": "Content Settings"
    },
    {
      "type": "text",
      "id": "hero_title",
      "label": "Hero Title",
      "default": "SHAMSY COSMÉTIQUE NATURELLE POUR VOTRE PEAU"
    },
    {
      "type": "textarea",
      "id": "hero_description",
      "label": "Hero Description",
      "default": "Nourrissez votre peau avec le soleil du Maroc"
    },
    {
      "type": "header",
      "content": "First Image Settings"
    },
    {
      "type": "image_picker",
      "id": "image_1",
      "label": "First Image"
    },
    {
      "type": "text",
      "id": "image_1_alt",
      "label": "First Image Alt Text",
      "default": "SHAMSY - First Product Image"
    },
    {
      "type": "range",
      "id": "image_1_size",
      "min": 150,
      "max": 400,
      "step": 10,
      "unit": "px",
      "label": "First Image Size",
      "default": 250
    },
    {
      "type": "range",
      "id": "image_1_rotation",
      "min": -45,
      "max": 45,
      "step": 1,
      "unit": "deg",
      "label": "First Image Rotation",
      "default": -8
    },
    {
      "type": "range",
      "id": "image_1_animation_duration",
      "min": 2,
      "max": 8,
      "step": 0.5,
      "unit": "s",
      "label": "First Image Animation Duration",
      "default": 4
    },
    {
      "type": "range",
      "id": "image_1_float_distance",
      "min": 5,
      "max": 30,
      "step": 1,
      "unit": "px",
      "label": "First Image Float Distance",
      "default": 10
    },
    {
      "type": "range",
      "id": "image_1_top_offset",
      "min": 0,
      "max": 200,
      "step": 5,
      "unit": "px",
      "label": "First Image Top Position",
      "default": 0
    },
    {
      "type": "range",
      "id": "image_1_left_offset",
      "min": 0,
      "max": 200,
      "step": 5,
      "unit": "px",
      "label": "First Image Left Position",
      "default": 0
    },
    {
      "type": "header",
      "content": "Second Image Settings"
    },
    {
      "type": "image_picker",
      "id": "image_2",
      "label": "Second Image"
    },
    {
      "type": "text",
      "id": "image_2_alt",
      "label": "Second Image Alt Text",
      "default": "SHAMSY - Second Product Image"
    },
    {
      "type": "range",
      "id": "image_2_size",
      "min": 150,
      "max": 400,
      "step": 10,
      "unit": "px",
      "label": "Second Image Size",
      "default": 200
    },
    {
      "type": "range",
      "id": "image_2_rotation",
      "min": -45,
      "max": 45,
      "step": 1,
      "unit": "deg",
      "label": "Second Image Rotation",
      "default": 45
    },
    {
      "type": "range",
      "id": "image_2_animation_duration",
      "min": 2,
      "max": 8,
      "step": 0.5,
      "unit": "s",
      "label": "Second Image Animation Duration",
      "default": 3
    },
    {
      "type": "range",
      "id": "image_2_float_distance",
      "min": 5,
      "max": 30,
      "step": 1,
      "unit": "px",
      "label": "Second Image Float Distance",
      "default": 15
    },
    {
      "type": "range",
      "id": "image_2_animation_delay",
      "min": 0,
      "max": 4,
      "step": 0.5,
      "unit": "s",
      "label": "Second Image Animation Delay",
      "default": 1.5
    },
    {
      "type": "range",
      "id": "image_2_top_offset",
      "min": 0,
      "max": 200,
      "step": 5,
      "unit": "px",
      "label": "Second Image Top Position",
      "default": 20
    },
    {
      "type": "range",
      "id": "image_2_left_offset",
      "min": 0,
      "max": 200,
      "step": 5,
      "unit": "px",
      "label": "Second Image Left Position",
      "default": 60
    },
    {
      "type": "header",
      "content": "Image Style Settings"
    },
    {
      "type": "range",
      "id": "image_border_radius",
      "min": 0,
      "max": 50,
      "step": 1,
      "unit": "px",
      "label": "Image Border Radius",
      "default": 8
    },
    {
      "type": "range",
      "id": "image_hover_scale",
      "min": 1.0,
      "max": 1.2,
      "step": 0.1,
      "label": "Image Hover Scale",
      "default": 1.1
    },
    {
      "type": "header",
      "content": "Button Settings"
    },
    {
      "type": "text",
      "id": "primary_button_text",
      "label": "Primary Button Text",
      "default": "Voir les produits"
    },
    {
      "type": "url",
      "id": "primary_button_url",
      "label": "Primary Button URL"
    },
    {
      "type": "text",
      "id": "secondary_button_text",
      "label": "Secondary Button Text",
      "default": "Commander maintenant"
    },
    {
      "type": "url",
      "id": "secondary_button_url",
      "label": "Secondary Button URL"
    },
    {
      "type": "header",
      "content": "Color Settings"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#f9f9f9"
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Title Color",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "description_color",
      "label": "Description Color",
      "default": "#666666"
    },
    {
      "type": "color",
      "id": "primary_button_bg",
      "label": "Primary Button Background",
      "default": "#2c3e50"
    },
    {
      "type": "color",
      "id": "primary_button_text_color",
      "label": "Primary Button Text Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "secondary_button_border",
      "label": "Secondary Button Border Color",
      "default": "#2c3e50"
    },
    {
      "type": "color",
      "id": "secondary_button_text_color",
      "label": "Secondary Button Text Color",
      "default": "#2c3e50"
    }
  ],
  "presets": [
    {
      "name": "Hero Section"
    }
  ]
}
{% endschema %}